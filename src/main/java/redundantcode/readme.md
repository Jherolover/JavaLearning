代码重复：搞定代码重复的三个绝招
1.利用工厂模式+模板方法模式，消除if...else和重复代码：templatemethod
2.利用注解+反射消除重复代码：reflection
3.利用属性拷贝工具消除重复代码：beancopy

案例：
假设要开发一个购物车下单的功能，针对不同用户进行不同处理：
1.普通用户需要收取运费，运费是商品价格的 10%，无商品折扣；
2.VIP 用户同样需要收取商品价格 10% 的快递费，但购买两件以上相同商品时，第三件开始享受一定折扣；
3.内部用户可以免运费，无商品折扣。

我们的目标是实现三种类型的购物车业务逻辑，
把入参 Map 对象（Key 是商品 ID，Value 是商品数量），
转换为出参购物车类型 Cart。